/* é˜…è¯»è¿›åº¦ start */
document.addEventListener('pjax:complete', function () {
  window.onscroll = percent;
});
document.addEventListener('DOMContentLoaded', function () {
  window.onscroll = percent;
});
// é¡µé¢ç™¾åˆ†æ¯”
function percent() {

  // å…ˆè®©èœå•æ æ¶ˆå¤±
  try {
    rmf.showRightMenu(false);
    $('.rmMask').attr('style', 'display: none');
  } catch (err) {

  }

  let a = document.documentElement.scrollTop, // å·å»é«˜åº¦
    b = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight) - document.documentElement.clientHeight, // æ•´ä¸ªç½‘é¡µé«˜åº¦ å‡å» å¯è§†é«˜åº¦
    result = Math.round(a / b * 100), // è®¡ç®—ç™¾åˆ†æ¯”
    btn = document.querySelector("#go-up"); // è·å–æŒ‰é’®

  if (result < 95) { // å¦‚æœé˜…è¯»è¿›åº¦å°äº95% å°±æ˜¾ç¤ºç™¾åˆ†æ¯”
    btn.childNodes[0].style.display = 'none'
    btn.childNodes[1].style.display = 'block'
    btn.childNodes[1].innerHTML = result + '<span>%</span>';
  } else { // å¦‚æœå¤§äº95%å°±æ˜¾ç¤ºå›åˆ°é¡¶éƒ¨å›¾æ ‡
    btn.childNodes[1].style.display = 'none'
    btn.childNodes[0].style.display = 'block'
  }
}
/* é˜…è¯»è¿›åº¦ end */


/* æ¶ææ ‡é¢˜ start */
//åŠ¨æ€æ ‡é¢˜
var OriginTitile = document.title;
var titleTime;
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //ç¦»å¼€å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = 'ğŸ‘€è·‘å“ªé‡Œå»äº†~';
    clearTimeout(titleTime);
  } else {
    //è¿”å›å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = 'ğŸ–æŠ“åˆ°ä½ å•¦ï½';
    //ä¸¤ç§’åå˜å›æ­£å¸¸æ ‡é¢˜
    titleTime = setTimeout(function () {
      document.title = OriginTitile;
    }, 2000);
  }
});
/* æ¶ææ ‡é¢˜ end */



/* å°çŒ«å’ª start */
if (document.body.clientWidth > 992) {
  function getBasicInfo() {
    /* çª—å£é«˜åº¦ */
    var ViewH = $(window).height();
    /* documenté«˜åº¦ */
    var DocH = $("body")[0].scrollHeight;
    /* æ»šåŠ¨çš„é«˜åº¦ */
    var ScrollTop = $(window).scrollTop();
    /* å¯æ»šåŠ¨çš„é«˜åº¦ */
    var S_V = DocH - ViewH;
    var Band_H = ScrollTop / (DocH - ViewH) * 100;
    return {
      ViewH: ViewH,
      DocH: DocH,
      ScrollTop: ScrollTop,
      Band_H: Band_H,
      S_V: S_V
    }
  };
  function show(basicInfo) {
    if (basicInfo.ScrollTop > 0.001) {
      $(".neko").css('display', 'block');
    } else {
      $(".neko").css('display', 'none');
    }
  }
  (function ($) {
    $.fn.nekoScroll = function (option) {
      var defaultSetting = {
        top: '0',
        scroWidth: 6 + 'px',
        z_index: 9999,
        zoom: 0.9,
        borderRadius: 5 + 'px',
        right: 55.6 + 'px',
        nekoImg: "https://cdn.staticaly.com/gh/yaccode/pic_bed@main/2023/06/spiderdown.png",
        hoverMsg: "å°å¿ƒèœ˜è››~",
        color: "red",
        during: 500,
        blog_body: "body",
      };
      var setting = $.extend(defaultSetting, option);
      var getThis = this.prop("className") !== "" ? "." + this.prop("className") : this.prop("id") !== "" ? "#" +
        this.prop("id") : this.prop("nodeName");
      if ($(".neko").length == 0) {
        this.after("<div class=\"neko\" id=" + setting.nekoname + " data-msg=\"" + setting.hoverMsg + "\"></div>");
      }
      let basicInfo = getBasicInfo();
      $(getThis)
        .css({
          'position': 'fixed',
          'width': setting.scroWidth,
          'top': setting.top,
          'height': basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 + 'px',
          'z-index': setting.z_index,
          'background-color': setting.bgcolor,
          "border-radius": setting.borderRadius,
          'right': setting.right,
          'background-image': 'url(' + setting.scImg + ')',
          'background-image': '-webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent)', 'border-radius': '2em',
          'background-size': 'contain'
        });
      $("#" + setting.nekoname)
        .css({
          'position': 'fixed',
          'top': basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 - 50 + 'px',
          'z-index': setting.z_index * 10,
          'right': setting.right,
          'background-image': 'url(' + setting.nekoImg + ')',
        });
      show(getBasicInfo());
      $(window)
        .scroll(function () {
          let basicInfo = getBasicInfo();
          show(basicInfo);
          $(getThis)
            .css({
              'position': 'fixed',
              'width': setting.scroWidth,
              'top': setting.top,
              'height': basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 + 'px',
              'z-index': setting.z_index,
              'background-color': setting.bgcolor,
              "border-radius": setting.borderRadius,
              'right': setting.right,
              'background-image': 'url(' + setting.scImg + ')',
              'background-image': '-webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent)', 'border-radius': '2em',
              'background-size': 'contain'
            });
          $("#" + setting.nekoname)
            .css({
              'position': 'fixed',
              'top': basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 - 50 + 'px',
              'z-index': setting.z_index * 10,
              'right': setting.right,
              'background-image': 'url(' + setting.nekoImg + ')',
            });
          if (basicInfo.ScrollTop == basicInfo.S_V) {
            $("#" + setting.nekoname)
              .addClass("showMsg")
          } else {
            $("#" + setting.nekoname)
              .removeClass("showMsg");
            $("#" + setting.nekoname)
              .attr("data-msg", setting.hoverMsg);
          }
        });
      this.click(function (e) {
        btf.scrollToDest(0, 500)
      });
      $("#" + setting.nekoname)
        .click(function () {
          btf.scrollToDest(0, 500)
        });
      return this;
    }
  })(jQuery);

  $(document).ready(function () {
    //éƒ¨åˆ†è‡ªå®šä¹‰
    $("#myscoll").nekoScroll({
      bgcolor: 'rgb(0 0 0 / .5)', //èƒŒæ™¯é¢œè‰²ï¼Œæ²¡æœ‰ç»³å­èƒŒæ™¯å›¾ç‰‡æ—¶æœ‰æ•ˆ
      borderRadius: '2em',
      zoom: 0.9
    }
    );
    //è‡ªå®šä¹‰ï¼ˆå»æ‰ä»¥ä¸‹æ³¨é‡Šï¼Œå¹¶æ³¨é‡Šæ‰å…¶ä»–çš„æŸ¥çœ‹æ•ˆæœï¼‰
    /*
    $("#myscoll").nekoScroll({
        nekoname:'neko1', //nekonameï¼Œç›¸å½“äºid
        nekoImg:'img/çŒ«å’ª.png', //nekoçš„èƒŒæ™¯å›¾ç‰‡
        scImg:"img/ç»³1.png", //ç»³å­çš„èƒŒæ™¯å›¾ç‰‡
        bgcolor:'#1e90ff', //èƒŒæ™¯é¢œè‰²ï¼Œæ²¡æœ‰ç»³å­èƒŒæ™¯å›¾ç‰‡æ—¶æœ‰æ•ˆ
        zoom:0.9, //ç»³å­é•¿åº¦çš„ç¼©æ”¾å€¼
        hoverMsg:'ä½ å¥½~å–µ', //é¼ æ ‡æµ®åŠ¨åˆ°nekoä¸Šæ–¹çš„å¯¹è¯æ¡†ä¿¡æ¯
        right:'100px', //è·ç¦»é¡µé¢å³è¾¹çš„è·ç¦»
        fontFamily:'æ¥·ä½“', //å¯¹è¯æ¡†å­—ä½“
        fontSize:'14px', //å¯¹è¯æ¡†å­—ä½“çš„å¤§å°
        color:'#1e90ff', //å¯¹è¯æ¡†å­—ä½“é¢œè‰²
        scroWidth:'8px', //ç»³å­çš„å®½åº¦
        z_index:100, //ä¸ç”¨è§£é‡Šäº†å§
        during:1200, //ä»é¡¶éƒ¨åˆ°åº•éƒ¨æ»‘åŠ¨çš„æ—¶é•¿
    });
    */
  })
}

/* å°çŒ«å’ª end */



var now1 = new Date();

function createtime1() {
    var grt = new Date("02/02/2022 00:00:00"); //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
    now1.setTime(now1.getTime() + 250);
    var days = (now1 - grt) / 1000 / 60 / 60 / 24;
    var dnum = Math.floor(days);

    var ascll = [
        `æ¬¢è¿æ¥åˆ°yaccodeğŸ¢ ã®å°å®¶!`,
        `Future is from now on ğŸ­ğŸ­ğŸ­`,
        `
        
       â–ˆâ–ˆ    â–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
        â–ˆâ–ˆ   â–ˆâ–ˆ  â–ˆâ–ˆ   â–ˆâ–ˆ  â–ˆâ–ˆ        â–ˆâ–ˆ        â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ
         â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ        â–ˆâ–ˆ        â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ     â–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
          â–ˆâ–ˆ     â–ˆâ–ˆ   â–ˆâ–ˆ  â–ˆâ–ˆ        â–ˆâ–ˆ        â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ
         â–ˆâ–ˆ      â–ˆâ–ˆ   â–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
                                              
`,
        "å°ç«™å·²ç»è‹Ÿæ´»",
        dnum,
        "å¤©å•¦!",
        "Â©2023 By yaccode",
    ];

    setTimeout(
        console.log.bind(
            console,
            `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
            "color:#39c5bb",
            "",
            "color:#39c5bb",
            "color:#39c5bb",
            "",
            "color:#39c5bb",
            ""
        )
    );
}

createtime1();

function createtime2() {
    var ascll2 = [`NCC2-036`, `è°ƒç”¨å‰ç½®æ‘„åƒå¤´æ‹ç…§æˆåŠŸï¼Œè¯†åˆ«ä¸ºã€Œå¤§èªæ˜ã€`, `Photo captured: `, ` ğŸ¤ª `];

    setTimeout(
        console.log.bind(
            console,
            `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}`,
            "color:white; background-color:#10bcc0",
            "",
            "",
            'background:url("https://unpkg.zhimg.com/anzhiyu-assets@latest/image/common/tinggge.gif") no-repeat;font-size:450%'
        )
    );

    setTimeout(console.log.bind(console, "%c WELCOME %c æ¬¢è¿å…‰ä¸´ï¼Œå¤§èªæ˜", "color:white; background-color:#23c682", ""));

    setTimeout(
        console.warn.bind(
            console,
            "%c âš¡ Powered by yaccodeğŸ¢ %c ä½ æ­£åœ¨è®¿é—® yaccodeğŸ¢ã®å°å®¶",
            "color:white; background-color:#f0ad4e",
            ""
        )
    );

    setTimeout(console.log.bind(console, "%c W23-12 %c ç³»ç»Ÿç›‘æµ‹åˆ°ä½ å·²æ‰“å¼€æ§åˆ¶å°", "color:white; background-color:#4f90d9", ""));
    setTimeout(
        console.warn.bind(console, "%c S013-782 %c ä½ ç°åœ¨æ­£å¤„äºç›‘æ§ä¸­", "color:white; background-color:#d9534f", "")
    );
}
createtime2();

// é‡å†™consoleæ–¹æ³•
console.log = function () { };
console.error = function () { };
console.warn = function () { };

/* ç¦ç”¨f12ä¸æŒ‰é”®é˜²æŠ– start */
// é˜²æŠ–å…¨å±€è®¡æ—¶å™¨
let TT = null;    //timeç”¨æ¥æ§åˆ¶äº‹ä»¶çš„è§¦å‘
// é˜²æŠ–å‡½æ•°:fn->é€»è¾‘ time->é˜²æŠ–æ—¶é—´
function debounce(fn, time) {
  if (TT !== null) clearTimeout(TT);
  TT = setTimeout(fn, time);
}

// å¤åˆ¶æé†’
document.addEventListener("copy", function () {
  debounce(function () {
    new Vue({
      data: function () {
        this.$notify({
          title: "å“å˜¿ï¼å¤åˆ¶æˆåŠŸğŸ¬",
          message: "è‹¥è¦è½¬è½½æœ€å¥½ä¿ç•™åŸæ–‡é“¾æ¥å“¦ï¼Œç»™ä½ ä¸€ä¸ªå¤§å¤§çš„èµï¼",
          position: 'top-left',
          offset: 50,
          showClose: true,
          type: "success",
          duration: 5000
        });
      }
    })
  }, 300);
})


// f12æé†’ä½†ä¸ç¦ç”¨
document.onkeydown = function (e) {
  if (123 == e.keyCode || (e.ctrlKey && e.shiftKey && (74 === e.keyCode || 73 === e.keyCode || 67 === e.keyCode)) || (e.ctrlKey && 85 === e.keyCode)) {
    debounce(function () {
      new Vue({
        data: function () {
          this.$notify({
            title: "ä½ å·²è¢«å‘ç°ğŸ˜œ",
            message: "å°ä¼™å­ï¼Œæ‰’æºè®°ä½è¦éµå¾ªGPLåè®®ï¼",
            position: 'top-left',
            offset: 50,
            showClose: true,
            type: "warning",
            duration: 5000
          });
        }
      })
    }, 300);
  }
};
/* ç¦ç”¨f12ä¸æŒ‰é”®é˜²æŠ– end */


/* åˆ†äº«æŒ‰é’® start */
// åˆ†äº«æœ¬é¡µ
function share_() {
  let url = window.location.origin + window.location.pathname
  try {
    // æˆªå–æ ‡é¢˜
    var title = document.title;
    var subTitle = title.endsWith("| yaccodeğŸ¢") ? title.substring(0, title.length - 14) : title;
    navigator.clipboard.writeText('yaccodeğŸ¢çš„ç«™å†…åˆ†äº«\næ ‡é¢˜ï¼š' + subTitle + '\né“¾æ¥ï¼š' + url + '\næ¬¢è¿æ¥è®¿ï¼ğŸ­ğŸ­ğŸ­');
    new Vue({
      data: function () {
        this.$notify({
          title: "æˆåŠŸå¤åˆ¶åˆ†äº«ä¿¡æ¯ğŸ‰",
          message: "æ‚¨ç°åœ¨å¯ä»¥é€šè¿‡ç²˜è´´ç›´æ¥è·Ÿå°ä¼™ä¼´åˆ†äº«äº†ï¼",
          position: 'top-left',
          offset: 50,
          showClose: true,
          type: "success",
          duration: 5000
        });
        // return { visible: false }
      }
    })
  } catch (err) {
    console.error('å¤åˆ¶å¤±è´¥ï¼', err);
  }
  // new ClipboardJS(".share", { text: function () { return 'æ ‡é¢˜ï¼š' + document.title + '\né“¾æ¥ï¼š' + url } });
  // btf.snackbarShow("æœ¬é¡µé“¾æ¥å·²å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼Œå¿«å»åˆ†äº«å§~")
}

// é˜²æŠ–
function share() {
  debounce(share_, 300);
}

/* åˆ†äº«æŒ‰é’® end */



/* å†œå†è½¬æ¢ start */
/**

* @1900-2100åŒºé—´å†…çš„å…¬å†ã€å†œå†äº’è½¬

* @charset UTF-8

* @Author  jiangjiazhi

* @å…¬å†è½¬å†œå†ï¼šcalendar.solar2lunar(1987,11,01); //[you can ignore params of prefix 0]

* @å†œå†è½¬å…¬å†ï¼šcalendar.lunar2solar(1987,09,10); //[you can ignore params of prefix 0]

*/



/**

* å†œå†1900-2100çš„æ¶¦å¤§å°ä¿¡æ¯è¡¨

* @Array Of Property

* @return Hex

*/

var lunarInfo = [0x04bd8, 0x04ae0, 0x0a570, 0x054d5, 0x0d260, 0x0d950, 0x16554, 0x056a0, 0x09ad0, 0x055d2, // 1900-1909

  0x04ae0, 0x0a5b6, 0x0a4d0, 0x0d250, 0x1d255, 0x0b540, 0x0d6a0, 0x0ada2, 0x095b0, 0x14977, // 1910-1919

  0x04970, 0x0a4b0, 0x0b4b5, 0x06a50, 0x06d40, 0x1ab54, 0x02b60, 0x09570, 0x052f2, 0x04970, // 1920-1929

  0x06566, 0x0d4a0, 0x0ea50, 0x06e95, 0x05ad0, 0x02b60, 0x186e3, 0x092e0, 0x1c8d7, 0x0c950, // 1930-1939

  0x0d4a0, 0x1d8a6, 0x0b550, 0x056a0, 0x1a5b4, 0x025d0, 0x092d0, 0x0d2b2, 0x0a950, 0x0b557, // 1940-1949

  0x06ca0, 0x0b550, 0x15355, 0x04da0, 0x0a5b0, 0x14573, 0x052b0, 0x0a9a8, 0x0e950, 0x06aa0, // 1950-1959

  0x0aea6, 0x0ab50, 0x04b60, 0x0aae4, 0x0a570, 0x05260, 0x0f263, 0x0d950, 0x05b57, 0x056a0, // 1960-1969

  0x096d0, 0x04dd5, 0x04ad0, 0x0a4d0, 0x0d4d4, 0x0d250, 0x0d558, 0x0b540, 0x0b6a0, 0x195a6, // 1970-1979

  0x095b0, 0x049b0, 0x0a974, 0x0a4b0, 0x0b27a, 0x06a50, 0x06d40, 0x0af46, 0x0ab60, 0x09570, // 1980-1989

  0x04af5, 0x04970, 0x064b0, 0x074a3, 0x0ea50, 0x06b58, 0x05ac0, 0x0ab60, 0x096d5, 0x092e0, // 1990-1999

  0x0c960, 0x0d954, 0x0d4a0, 0x0da50, 0x07552, 0x056a0, 0x0abb7, 0x025d0, 0x092d0, 0x0cab5, // 2000-2009

  0x0a950, 0x0b4a0, 0x0baa4, 0x0ad50, 0x055d9, 0x04ba0, 0x0a5b0, 0x15176, 0x052b0, 0x0a930, // 2010-2019

  0x07954, 0x06aa0, 0x0ad50, 0x05b52, 0x04b60, 0x0a6e6, 0x0a4e0, 0x0d260, 0x0ea65, 0x0d530, // 2020-2029

  0x05aa0, 0x076a3, 0x096d0, 0x04afb, 0x04ad0, 0x0a4d0, 0x1d0b6, 0x0d250, 0x0d520, 0x0dd45, // 2030-2039

  0x0b5a0, 0x056d0, 0x055b2, 0x049b0, 0x0a577, 0x0a4b0, 0x0aa50, 0x1b255, 0x06d20, 0x0ada0, // 2040-2049

  0x14b63, 0x09370, 0x049f8, 0x04970, 0x064b0, 0x168a6, 0x0ea50, 0x06b20, 0x1a6c4, 0x0aae0, // 2050-2059

  0x0a2e0, 0x0d2e3, 0x0c960, 0x0d557, 0x0d4a0, 0x0da50, 0x05d55, 0x056a0, 0x0a6d0, 0x055d4, // 2060-2069

  0x052d0, 0x0a9b8, 0x0a950, 0x0b4a0, 0x0b6a6, 0x0ad50, 0x055a0, 0x0aba4, 0x0a5b0, 0x052b0, // 2070-2079

  0x0b273, 0x06930, 0x07337, 0x06aa0, 0x0ad50, 0x14b55, 0x04b60, 0x0a570, 0x054e4, 0x0d160, // 2080-2089

  0x0e968, 0x0d520, 0x0daa0, 0x16aa6, 0x056d0, 0x04ae0, 0x0a9d4, 0x0a2d0, 0x0d150, 0x0f252, // 2090-2099

  0x0d520] // 2100



var solarMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]



/**

* å¤©å¹²åœ°æ”¯ä¹‹å¤©å¹²é€ŸæŸ¥è¡¨

* @Array Of Property trans['ç”²','ä¹™','ä¸™','ä¸','æˆŠ','å·±','åºš','è¾›','å£¬','ç™¸']

* @return Cn string

*/

var Gan = ['\u7532', '\u4e59', '\u4e19', '\u4e01', '\u620a', '\u5df1', '\u5e9a', '\u8f9b', '\u58ec', '\u7678']



/**

* å¤©å¹²åœ°æ”¯ä¹‹åœ°æ”¯é€ŸæŸ¥è¡¨

* @Array Of Property

* @trans['å­','ä¸‘','å¯…','å¯','è¾°','å·³','åˆ','æœª','ç”³','é…‰','æˆŒ','äº¥']

* @return Cn string

*/

var Zhi = ['\u5b50', '\u4e11', '\u5bc5', '\u536f', '\u8fb0', '\u5df3', '\u5348', '\u672a', '\u7533', '\u9149', '\u620c', '\u4ea5']



/**

* å¤©å¹²åœ°æ”¯ä¹‹åœ°æ”¯é€ŸæŸ¥è¡¨<=>ç”Ÿè‚–

* @Array Of Property

* @trans['é¼ ','ç‰›','è™','å…”','é¾™','è›‡','é©¬','ç¾Š','çŒ´','é¸¡','ç‹—','çŒª']

* @return Cn string

*/

var Animals = ['\u9f20', '\u725b', '\u864e', '\u5154', '\u9f99', '\u86c7', '\u9a6c', '\u7f8a', '\u7334', '\u9e21', '\u72d7', '\u732a']



/**

* 24èŠ‚æ°”é€ŸæŸ¥è¡¨

* @Array Of Property

* @trans['å°å¯’','å¤§å¯’','ç«‹æ˜¥','é›¨æ°´','æƒŠè›°','æ˜¥åˆ†','æ¸…æ˜','è°·é›¨','ç«‹å¤','å°æ»¡','èŠ’ç§','å¤è‡³','å°æš‘','å¤§æš‘','ç«‹ç§‹','å¤„æš‘','ç™½éœ²','ç§‹åˆ†','å¯’éœ²','éœœé™','ç«‹å†¬','å°é›ª','å¤§é›ª','å†¬è‡³']

* @return Cn string

*/

var solarTerm = ['\u5c0f\u5bd2', '\u5927\u5bd2', '\u7acb\u6625', '\u96e8\u6c34', '\u60ca\u86f0', '\u6625\u5206', '\u6e05\u660e', '\u8c37\u96e8', '\u7acb\u590f', '\u5c0f\u6ee1', '\u8292\u79cd', '\u590f\u81f3', '\u5c0f\u6691', '\u5927\u6691', '\u7acb\u79cb', '\u5904\u6691', '\u767d\u9732', '\u79cb\u5206', '\u5bd2\u9732', '\u971c\u964d', '\u7acb\u51ac', '\u5c0f\u96ea', '\u5927\u96ea', '\u51ac\u81f3']



/**

* 1900-2100å„å¹´çš„24èŠ‚æ°”æ—¥æœŸé€ŸæŸ¥è¡¨

* @Array Of Property

* @return 0x string For splice

*/

var sTermInfo = ['9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf97c3598082c95f8c965cc920f',

  '97bd0b06bdb0722c965ce1cfcc920f', 'b027097bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',

  '97bcf97c359801ec95f8c965cc920f', '97bd0b06bdb0722c965ce1cfcc920f', 'b027097bd097c36b0b6fc9274c91aa',

  '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f', '97bd0b06bdb0722c965ce1cfcc920f',

  'b027097bd097c36b0b6fc9274c91aa', '9778397bd19801ec9210c965cc920e', '97b6b97bd19801ec95f8c965cc920f',

  '97bd09801d98082c95f8e1cfcc920f', '97bd097bd097c36b0b6fc9210c8dc2', '9778397bd197c36c9210c9274c91aa',

  '97b6b97bd19801ec95f8c965cc920e', '97bd09801d98082c95f8e1cfcc920f', '97bd097bd097c36b0b6fc9210c8dc2',

  '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec95f8c965cc920e', '97bcf97c3598082c95f8e1cfcc920f',

  '97bd097bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec9210c965cc920e',

  '97bcf97c3598082c95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',

  '97b6b97bd19801ec9210c965cc920e', '97bcf97c3598082c95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722',

  '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f',

  '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',

  '97bcf97c359801ec95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',

  '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f', '97bd097bd07f595b0b6fc920fb0722',

  '9778397bd097c36b0b6fc9210c8dc2', '9778397bd19801ec9210c9274c920e', '97b6b97bd19801ec95f8c965cc920f',

  '97bd07f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c920e',

  '97b6b97bd19801ec95f8c965cc920f', '97bd07f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2',

  '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bd07f1487f595b0b0bc920fb0722',

  '7f0e397bd097c36b0b6fc9210c8dc2', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',

  '97bcf7f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',

  '97b6b97bd19801ec9210c965cc920e', '97bcf7f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',

  '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf7f1487f531b0b0bb0b6fb0722',

  '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',

  '97bcf7f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',

  '97b6b97bd19801ec9210c9274c920e', '97bcf7f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',

  '9778397bd097c36b0b6fc9210c91aa', '97b6b97bd197c36c9210c9274c920e', '97bcf7f0e47f531b0b0bb0b6fb0722',

  '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c920e',

  '97b6b7f0e47f531b0723b0b6fb0722', '7f0e37f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2',

  '9778397bd097c36b0b70c9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721', '7f0e37f1487f595b0b0bb0b6fb0722',

  '7f0e397bd097c35b0b6fc9210c8dc2', '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721',

  '7f0e27f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',

  '97b6b7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',

  '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',

  '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721',

  '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9274c91aa',

  '97b6b7f0e47f531b0723b0787b0721', '7f0e27f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',

  '9778397bd097c36b0b6fc9210c91aa', '97b6b7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',

  '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9210c8dc2', '977837f0e37f149b0723b0787b0721',

  '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f5307f595b0b0bc920fb0722', '7f0e397bd097c35b0b6fc9210c8dc2',

  '977837f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e37f1487f595b0b0bb0b6fb0722',

  '7f0e397bd097c35b0b6fc9210c8dc2', '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',

  '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '977837f0e37f14998082b0787b06bd',

  '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',

  '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',

  '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',

  '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14998082b0787b06bd',

  '7f07e7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',

  '977837f0e37f14998082b0723b06bd', '7f07e7f0e37f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',

  '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b0721',

  '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f1487f595b0b0bb0b6fb0722', '7f0e37f0e37f14898082b0723b02d5',

  '7ec967f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f1487f531b0b0bb0b6fb0722',

  '7f0e37f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',

  '7f0e37f1487f531b0b0bb0b6fb0722', '7f0e37f0e37f14898082b072297c35', '7ec967f0e37f14998082b0787b06bd',

  '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e37f0e37f14898082b072297c35',

  '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',

  '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f149b0723b0787b0721',

  '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14998082b0723b06bd',

  '7f07e7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722', '7f0e37f0e366aa89801eb072297c35',

  '7ec967f0e37f14998082b0723b06bd', '7f07e7f0e37f14998083b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',

  '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14898082b0723b02d5', '7f07e7f0e37f14998082b0787b0721',

  '7f07e7f0e47f531b0723b0b6fb0722', '7f0e36665b66aa89801e9808297c35', '665f67f0e37f14898082b0723b02d5',

  '7ec967f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0722', '7f0e36665b66a449801e9808297c35',

  '665f67f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',

  '7f0e36665b66a449801e9808297c35', '665f67f0e37f14898082b072297c35', '7ec967f0e37f14998082b0787b06bd',

  '7f07e7f0e47f531b0723b0b6fb0721', '7f0e26665b66a449801e9808297c35', '665f67f0e37f1489801eb072297c35',

  '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722']



/**

 * æ•°å­—è½¬ä¸­æ–‡é€ŸæŸ¥è¡¨

* @Array Of Property

* @trans ['æ—¥','ä¸€','äºŒ','ä¸‰','å››','äº”','å…­','ä¸ƒ','å…«','ä¹','å']

* @return Cn string

 */

var nStr1 = ['\u65e5', '\u4e00', '\u4e8c', '\u4e09', '\u56db', '\u4e94', '\u516d', '\u4e03', '\u516b', '\u4e5d', '\u5341']



/**

* æ—¥æœŸè½¬å†œå†ç§°å‘¼é€ŸæŸ¥è¡¨

* @Array Of Property

* @trans ['åˆ','å','å»¿','å…']

* @return Cn string

*/

var nStr2 = ['\u521d', '\u5341', '\u5eff', '\u5345']



/**

* æœˆä»½è½¬å†œå†ç§°å‘¼é€ŸæŸ¥è¡¨

* @Array Of Property

* @trans ['æ­£','ä¸€','äºŒ','ä¸‰','å››','äº”','å…­','ä¸ƒ','å…«','ä¹','å','å†¬','è…Š']

* @return Cn string

*/

var nStr3 = ['\u6b63', '\u4e8c', '\u4e09', '\u56db', '\u4e94', '\u516d', '\u4e03', '\u516b', '\u4e5d', '\u5341', '\u51ac', '\u814a']



/**

* è¿”å›å†œå†yå¹´ä¸€æ•´å¹´çš„æ€»å¤©æ•°

* @param lunar Year

 * @return Number

* @eg:var count = calendar.lYearDays(1987) ;//count=387

*/

function lYearDays(y) {

  var i

  var sum = 348

  for (i = 0x8000; i > 0x8; i >>= 1) { sum += (lunarInfo[y - 1900] & i) ? 1 : 0 }

  return (sum + leapDays(y))

}



/**

* è¿”å›å†œå†yå¹´é—°æœˆæ˜¯å“ªä¸ªæœˆï¼›è‹¥yå¹´æ²¡æœ‰é—°æœˆ åˆ™è¿”å›0

* @param lunar Year

* @return Number (0-12)

 * @eg:var leapMonth = calendar.leapMonth(1987) ;//leapMonth=6

*/

function leapMonth(y) { // é—°å­—ç¼–ç  \u95f0

  return (lunarInfo[y - 1900] & 0xf)

}



/**

* è¿”å›å†œå†yå¹´é—°æœˆçš„å¤©æ•° è‹¥è¯¥å¹´æ²¡æœ‰é—°æœˆåˆ™è¿”å›0

* @param lunar Year

* @return Number (0ã€29ã€30)

* @eg:var leapMonthDay = calendar.leapDays(1987) ;//leapMonthDay=29

*/

function leapDays(y) {

  if (leapMonth(y)) {

    return ((lunarInfo[y - 1900] & 0x10000) ? 30 : 29)

  }

  return (0)

}



/**

* è¿”å›å†œå†yå¹´mæœˆï¼ˆéé—°æœˆï¼‰çš„æ€»å¤©æ•°ï¼Œè®¡ç®—mä¸ºé—°æœˆæ—¶çš„å¤©æ•°è¯·ä½¿ç”¨leapDaysæ–¹æ³•

* @param lunar Year

* @return Number (-1ã€29ã€30)

 * @eg:var MonthDay = calendar.monthDays(1987,9) ;//MonthDay=29

*/

function monthDays(y, m) {

  if (m > 12 || m < 1) { return -1 }// æœˆä»½å‚æ•°ä»1è‡³12ï¼Œå‚æ•°é”™è¯¯è¿”å›-1

  return ((lunarInfo[y - 1900] & (0x10000 >> m)) ? 30 : 29)

}



/**

* è¿”å›å…¬å†(!)yå¹´mæœˆçš„å¤©æ•°

* @param solar Year

* @return Number (-1ã€28ã€29ã€30ã€31)

* @eg:var solarMonthDay = calendar.leapDays(1987) ;//solarMonthDay=30

*/

function solarDays(y, m) {

  if (m > 12 || m < 1) { return -1 } // è‹¥å‚æ•°é”™è¯¯ è¿”å›-1

  var ms = m - 1

  if (ms === 1) { // 2æœˆä»½çš„é—°å¹³è§„å¾‹æµ‹ç®—åç¡®è®¤è¿”å›28æˆ–29

    return (((y % 4 === 0) && (y % 100 !== 0) || (y % 400 === 0)) ? 29 : 28)

  } else {

    return (solarMonth[ms])

  }

}



/**

* å†œå†å¹´ä»½è½¬æ¢ä¸ºå¹²æ”¯çºªå¹´

* @param  lYear å†œå†å¹´çš„å¹´ä»½æ•°

* @return Cn string

*/

function toGanZhiYear(lYear) {

  var ganKey = (lYear - 3) % 10

  var zhiKey = (lYear - 3) % 12

  if (ganKey === 0) ganKey = 10 // å¦‚æœä½™æ•°ä¸º0åˆ™ä¸ºæœ€åä¸€ä¸ªå¤©å¹²

  if (zhiKey === 0) zhiKey = 12 // å¦‚æœä½™æ•°ä¸º0åˆ™ä¸ºæœ€åä¸€ä¸ªåœ°æ”¯

  return Gan[ganKey - 1] + Zhi[zhiKey - 1]

}



/**

* å…¬å†æœˆã€æ—¥åˆ¤æ–­æ‰€å±æ˜Ÿåº§

* @param  cMonth [description]

* @param  cDay [description]

* @return Cn string

*/

function toAstro(cMonth, cDay) {

  var s = '\u9b54\u7faf\u6c34\u74f6\u53cc\u9c7c\u767d\u7f8a\u91d1\u725b\u53cc\u5b50\u5de8\u87f9\u72ee\u5b50\u5904\u5973\u5929\u79e4\u5929\u874e\u5c04\u624b\u9b54\u7faf'

  var arr = [20, 19, 21, 21, 21, 22, 23, 23, 23, 23, 22, 22]

  return s.substr(cMonth * 2 - (cDay < arr[cMonth - 1] ? 2 : 0), 2) + '\u5ea7' // åº§

}



/**

* ä¼ å…¥offsetåç§»é‡è¿”å›å¹²æ”¯

* @param offset ç›¸å¯¹ç”²å­çš„åç§»é‡

* @return Cn string

*/

function toGanZhi(offset) {

  return Gan[offset % 10] + Zhi[offset % 12]

}



/**

* ä¼ å…¥å…¬å†(!)yå¹´è·å¾—è¯¥å¹´ç¬¬nä¸ªèŠ‚æ°”çš„å…¬å†æ—¥æœŸ

* @param yå…¬å†å¹´(1900-2100)ï¼›näºŒåå››èŠ‚æ°”ä¸­çš„ç¬¬å‡ ä¸ªèŠ‚æ°”(1~24)ï¼›ä»n=1(å°å¯’)ç®—èµ·

* @return day Number

* @eg:var _24 = calendar.getTerm(1987,3) ;//_24=4;æ„å³1987å¹´2æœˆ4æ—¥ç«‹æ˜¥

*/

function getTerm(y, n) {

  if (y < 1900 || y > 2100) { return -1 }

  if (n < 1 || n > 24) { return -1 }

  var _table = sTermInfo[y - 1900]

  var _info = [

    parseInt('0x' + _table.substr(0, 5)).toString(),

    parseInt('0x' + _table.substr(5, 5)).toString(),

    parseInt('0x' + _table.substr(10, 5)).toString(),

    parseInt('0x' + _table.substr(15, 5)).toString(),

    parseInt('0x' + _table.substr(20, 5)).toString(),

    parseInt('0x' + _table.substr(25, 5)).toString()

  ]

  var _calday = [

    _info[0].substr(0, 1),

    _info[0].substr(1, 2),

    _info[0].substr(3, 1),

    _info[0].substr(4, 2),



    _info[1].substr(0, 1),

    _info[1].substr(1, 2),

    _info[1].substr(3, 1),

    _info[1].substr(4, 2),



    _info[2].substr(0, 1),

    _info[2].substr(1, 2),

    _info[2].substr(3, 1),

    _info[2].substr(4, 2),



    _info[3].substr(0, 1),

    _info[3].substr(1, 2),

    _info[3].substr(3, 1),

    _info[3].substr(4, 2),



    _info[4].substr(0, 1),

    _info[4].substr(1, 2),

    _info[4].substr(3, 1),

    _info[4].substr(4, 2),



    _info[5].substr(0, 1),

    _info[5].substr(1, 2),

    _info[5].substr(3, 1),

    _info[5].substr(4, 2)

  ]

  return parseInt(_calday[n - 1])

}



/**

* ä¼ å…¥å†œå†æ•°å­—æœˆä»½è¿”å›æ±‰è¯­é€šä¿—è¡¨ç¤ºæ³•

* @param lunar month

* @return Cn string

* @eg:var cnMonth = calendar.toChinaMonth(12) ;//cnMonth='è…Šæœˆ'

*/

function toChinaMonth(m) { // æœˆ => \u6708

  if (m > 12 || m < 1) { return -1 } // è‹¥å‚æ•°é”™è¯¯ è¿”å›-1

  var s = nStr3[m - 1]

  s += '\u6708' // åŠ ä¸Šæœˆå­—

  return s

}



/**

* ä¼ å…¥å†œå†æ—¥æœŸæ•°å­—è¿”å›æ±‰å­—è¡¨ç¤ºæ³•

* @param lunar day

* @return Cn string

* @eg:var cnDay = calendar.toChinaDay(21) ;//cnMonth='å»¿ä¸€'

*/

function toChinaDay(d) { // æ—¥ => \u65e5

  var s

  switch (d) {

    case 10:

      s = '\u521d\u5341'

      break

    case 20:

      s = '\u4e8c\u5341'

      break

    case 30:

      s = '\u4e09\u5341'

      break

    default:

      s = nStr2[Math.floor(d / 10)]

      s += nStr1[d % 10]

  }

  return (s)

}



/**

* å¹´ä»½è½¬ç”Ÿè‚–[!ä»…èƒ½å¤§è‡´è½¬æ¢] => ç²¾ç¡®åˆ’åˆ†ç”Ÿè‚–åˆ†ç•Œçº¿æ˜¯â€œç«‹æ˜¥â€

* @param y year

* @return Cn string

* @eg:var animal = calendar.getAnimal(1987) ;//animal='å…”'

*/

function getAnimal(y) {

  return Animals[(y - 4) % 12]

}



/**

* ä¼ å…¥é˜³å†å¹´æœˆæ—¥è·å¾—è¯¦ç»†çš„å…¬å†ã€å†œå†objectä¿¡æ¯ <=>JSON

* @param y  solar year

* @param m  solar month

* @param d  solar day

* @return JSON object

* @eg:console.log(calendar.solar2lunar(1987,11,01));

*/

function solar2lunar(y, m, d) { // å‚æ•°åŒºé—´1900.1.31~2100.12.31

  // å¹´ä»½é™å®šã€ä¸Šé™

  if (y < 1900 || y > 2100) {

    return -1 // undefinedè½¬æ¢ä¸ºæ•°å­—å˜ä¸ºNaN

  }

  // å…¬å†ä¼ å‚æœ€ä¸‹é™

  if (y === 1900 && m === 1 && d < 31) {

    return -1

  }

  // æœªä¼ å‚  è·å¾—å½“å¤©

  var objDate = null

  if (!y) {

    objDate = new Date()

  } else {

    objDate = new Date(y, parseInt(m) - 1, d)

  }

  var i

  var leap = 0

  var temp = 0

  // ä¿®æ­£ymdå‚æ•°

  y = objDate.getFullYear()

  m = objDate.getMonth() + 1

  d = objDate.getDate()

  var offset = (Date.UTC(objDate.getFullYear(), objDate.getMonth(), objDate.getDate()) - Date.UTC(1900, 0, 31)) / 86400000

  for (i = 1900; i < 2101 && offset > 0; i++) {

    temp = lYearDays(i)

    offset -= temp

  }

  if (offset < 0) {

    offset += temp; i--

  }



  // æ˜¯å¦ä»Šå¤©

  var isTodayObj = new Date()

  var isToday = false

  if (isTodayObj.getFullYear() === y && isTodayObj.getMonth() + 1 === m && isTodayObj.getDate() === d) {

    isToday = true

  }

  // æ˜ŸæœŸå‡ 

  var nWeek = objDate.getDay()

  var cWeek = nStr1[nWeek]

  // æ•°å­—è¡¨ç¤ºå‘¨å‡ é¡ºåº”å¤©æœå‘¨ä¸€å¼€å§‹çš„æƒ¯ä¾‹

  if (nWeek === 0) {

    nWeek = 7

  }

  // å†œå†å¹´

  var year = i

  leap = leapMonth(i) // é—°å“ªä¸ªæœˆ

  var isLeap = false



  // æ•ˆéªŒé—°æœˆ

  for (i = 1; i < 13 && offset > 0; i++) {

    // é—°æœˆ

    if (leap > 0 && i === (leap + 1) && isLeap === false) {

      --i

      isLeap = true; temp = leapDays(year) // è®¡ç®—å†œå†é—°æœˆå¤©æ•°

    } else {

      temp = monthDays(year, i)// è®¡ç®—å†œå†æ™®é€šæœˆå¤©æ•°

    }

    // è§£é™¤é—°æœˆ

    if (isLeap === true && i === (leap + 1)) { isLeap = false }

    offset -= temp

  }

  // é—°æœˆå¯¼è‡´æ•°ç»„ä¸‹æ ‡é‡å å–å

  if (offset === 0 && leap > 0 && i === leap + 1) {

    if (isLeap) {

      isLeap = false

    } else {

      isLeap = true; --i

    }

  }

  if (offset < 0) {

    offset += temp; --i

  }

  // å†œå†æœˆ

  var month = i

  // å†œå†æ—¥

  var day = offset + 1

  // å¤©å¹²åœ°æ”¯å¤„ç†

  var sm = m - 1

  var gzY = toGanZhiYear(year)



  // å½“æœˆçš„ä¸¤ä¸ªèŠ‚æ°”

  // bugfix-2017-7-24 11:03:38 use lunar Year Param `y` Not `year`

  var firstNode = getTerm(y, (m * 2 - 1)) // è¿”å›å½“æœˆã€ŒèŠ‚ã€ä¸ºå‡ æ—¥å¼€å§‹

  var secondNode = getTerm(y, (m * 2)) // è¿”å›å½“æœˆã€ŒèŠ‚ã€ä¸ºå‡ æ—¥å¼€å§‹



  // ä¾æ®12èŠ‚æ°”ä¿®æ­£å¹²æ”¯æœˆ

  var gzM = toGanZhi((y - 1900) * 12 + m + 11)

  if (d >= firstNode) {

    gzM = toGanZhi((y - 1900) * 12 + m + 12)

  }

  // ä¼ å…¥çš„æ—¥æœŸçš„èŠ‚æ°”ä¸å¦

  var isTerm = false

  var Term = null

  if (firstNode === d) {

    isTerm = true

    Term = solarTerm[m * 2 - 2]

  }

  if (secondNode === d) {

    isTerm = true

    Term = solarTerm[m * 2 - 1]

  }

  // æ—¥æŸ± å½“æœˆä¸€æ—¥ä¸ 1900/1/1 ç›¸å·®å¤©æ•°

  var dayCyclical = Date.UTC(y, sm, 1, 0, 0, 0, 0) / 86400000 + 25567 + 10

  var gzD = toGanZhi(dayCyclical + d - 1)

  // è¯¥æ—¥æœŸæ‰€å±çš„æ˜Ÿåº§

  var astro = toAstro(m, d)

  return { 'lYear': year, 'lMonth': month, 'lDay': day, 'Animal': getAnimal(year), 'IMonthCn': (isLeap ? '\u95f0' : '') + toChinaMonth(month), 'IDayCn': toChinaDay(day), 'cYear': y, 'cMonth': m, 'cDay': d, 'gzYear': gzY, 'gzMonth': gzM, 'gzDay': gzD, 'isToday': isToday, 'isLeap': isLeap, 'nWeek': nWeek, 'ncWeek': '\u661f\u671f' + cWeek, 'isTerm': isTerm, 'Term': Term, 'astro': astro }

}





var calendarFormatter = {

  // ä¼ å…¥é˜³å†å¹´æœˆæ—¥è·å¾—è¯¦ç»†çš„å…¬å†ã€å†œå†objectä¿¡æ¯ <=>JSON

  solar2lunar: function (y, m, d) { // å‚æ•°åŒºé—´1900.1.31~2100.12.31

    return solar2lunar(y, m, d)

  },

  /**

  * ä¼ å…¥å†œå†å¹´æœˆæ—¥ä»¥åŠä¼ å…¥çš„æœˆä»½æ˜¯å¦é—°æœˆè·å¾—è¯¦ç»†çš„å…¬å†ã€å†œå†objectä¿¡æ¯ <=>JSON

  * @param y  lunar year

  * @param m  lunar month

  * @param d  lunar day

  * @param isLeapMonth  lunar month is leap or not.[å¦‚æœæ˜¯å†œå†é—°æœˆç¬¬å››ä¸ªå‚æ•°èµ‹å€¼trueå³å¯]

  * @return JSON object

  * @eg:console.log(calendar.lunar2solar(1987,9,10));

  */

  lunar2solar: function (y, m, d, isLeapMonth) { // å‚æ•°åŒºé—´1900.1.31~2100.12.1

    isLeapMonth = !!isLeapMonth

    if (isLeapMonth && (leapMonth !== m)) { return -1 }// ä¼ å‚è¦æ±‚è®¡ç®—è¯¥é—°æœˆå…¬å† ä½†è¯¥å¹´å¾—å‡ºçš„é—°æœˆä¸ä¼ å‚çš„æœˆä»½å¹¶ä¸åŒ

    if (y === 2100 && m === 12 && d > 1 || y === 1900 && m === 1 && d < 31) { return -1 } // è¶…å‡ºäº†æœ€å¤§æé™å€¼

    var day = monthDays(y, m)

    var _day = day

    // bugFix 2016-9-25

    // if month is leap, _day use leapDays method

    if (isLeapMonth) {

      _day = leapDays(y, m)

    }

    if (y < 1900 || y > 2100 || d > _day) { return -1 }// å‚æ•°åˆæ³•æ€§æ•ˆéªŒ



    // è®¡ç®—å†œå†çš„æ—¶é—´å·®

    var offset = 0

    for (var i = 1900; i < y; i++) {

      offset += lYearDays(i)

    }

    var leap = 0

    var isAdd = false

    for (i = 1; i < m; i++) {

      leap = leapMonth(y)

      if (!isAdd) { // å¤„ç†é—°æœˆ

        if (leap <= i && leap > 0) {

          offset += leapDays(y); isAdd = true

        }

      }

      offset += monthDays(y, i)

    }

    // è½¬æ¢é—°æœˆå†œå† éœ€è¡¥å……è¯¥å¹´é—°æœˆçš„å‰ä¸€ä¸ªæœˆçš„æ—¶å·®

    if (isLeapMonth) { offset += day }

    // 1900å¹´å†œå†æ­£æœˆä¸€æ—¥çš„å…¬å†æ—¶é—´ä¸º1900å¹´1æœˆ30æ—¥0æ—¶0åˆ†0ç§’(è¯¥æ—¶é—´ä¹Ÿæ˜¯æœ¬å†œå†çš„æœ€å¼€å§‹èµ·å§‹ç‚¹)

    var stmap = Date.UTC(1900, 1, 30, 0, 0, 0)

    var calObj = new Date((offset + d - 31) * 86400000 + stmap)

    var cY = calObj.getUTCFullYear()

    var cM = calObj.getUTCMonth() + 1

    var cD = calObj.getUTCDate()

    return solar2lunar(cY, cM, cD)

  }

}

/* å†œå†è½¬æ¢ end */

//----------------------------------------------------------------

/* èŠ‚æ—¥å¼¹çª— start */
var d = new Date();
m = d.getMonth() + 1;
dd = d.getDate();
y = d.getFullYear();

// å…¬ç¥­æ—¥
if (m == 9 && dd == 18) {
  document.getElementsByTagName("html")[0].setAttribute("style", "filter: grayscale(60%);");
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ä»Šå¤©æ˜¯ä¹ä¸€å…«äº‹å˜" + (y - 1931).toString() + "å‘¨å¹´çºªå¿µæ—¥\nğŸª”å‹¿å¿˜å›½è€»ï¼ŒæŒ¯å…´ä¸­åğŸª”");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 7 && dd == 7) {
  document.getElementsByTagName("html")[0].setAttribute("style", "filter: grayscale(60%);");
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ä»Šå¤©æ˜¯å¢æ²Ÿæ¡¥äº‹å˜" + (y - 1937).toString() + "å‘¨å¹´çºªå¿µæ—¥\nğŸª”å‹¿å¿˜å›½è€»ï¼ŒæŒ¯å…´ä¸­åğŸª”");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 12 && dd == 13) {
  document.getElementsByTagName("html")[0].setAttribute("style", "filter: grayscale(60%);");
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ä»Šå¤©æ˜¯å—äº¬å¤§å± æ€" + (y - 1937).toString() + "å‘¨å¹´çºªå¿µæ—¥\nğŸª”å‹¿å¿˜å›½è€»ï¼ŒæŒ¯å…´ä¸­åğŸª”");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 8 && dd == 14) {
  document.getElementsByTagName("html")[0].setAttribute("style", "filter: grayscale(60%);");
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ä»Šå¤©æ˜¯ä¸–ç•Œæ…°å®‰å¦‡çºªå¿µæ—¥\nğŸª”å‹¿å¿˜å›½è€»ï¼ŒæŒ¯å…´ä¸­åğŸª”");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}


// èŠ‚å‡æ—¥
if (m == 10 && dd <= 3) {//å›½åº†èŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ç¥ç¥–å›½" + (y - 1949).toString() + "å²ç”Ÿæ—¥å¿«ä¹ï¼");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 8 && dd == 15) {//ææ¥ç©çš„ï¼Œå°æ—¥å­æŠ•é™
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("å°æ—¥å­å·²ç»æŠ•é™" + (y - 1945).toString() + "å¹´äº†ğŸ˜ƒ");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 1 && dd == 1) {//å…ƒæ—¦èŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire(y.toString() + "å¹´å…ƒæ—¦å¿«ä¹ï¼ğŸ‰");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 3 && dd == 8) {//å¦‡å¥³èŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("å„ä½å¥³ç¥ä»¬ï¼Œå¦‡å¥³èŠ‚å¿«ä¹ï¼ğŸ‘©");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
l = ["éå¸¸æŠ±æ­‰ï¼Œå› ä¸ºä¸å¯æ§åŸå› ï¼Œåšå®¢å°†äºæ˜å¤©åœæ­¢è¿è¥ï¼", "å¥½æ¶ˆæ¯ï¼Œæ—¥æœ¬æ²¡äº†ï¼", "ç¾å›½å®äº†ï¼ŒåŸå› ç«Ÿç„¶æ˜¯å·æ™®ï¼", "å¾®è½¯å®äº†ï¼", "ä½ çš„ç”µè„‘å·²ç»è¿‡è½½ï¼Œå»ºè®®ç«‹å³å…³æœºï¼", "ä½ çŸ¥é“å—ï¼Ÿç«™é•¿å¾ˆå–œæ¬¢ä½ å“¦ï¼", "ä¸€åˆ†é’Ÿæœ‰61ç§’å“¦", "ä½ å–œæ¬¢çš„äººè·Ÿåˆ«äººè·‘äº†ï¼"]
if (m == 4 && dd == 1) {//æ„šäººèŠ‚ï¼Œéšæœºè°è¯
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire(l[Math.floor(Math.random() * l.length)]);
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 5 && dd == 1) {//åŠ³åŠ¨èŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("åŠ³åŠ¨èŠ‚å¿«ä¹\nä¸ºå„è¡Œå„ä¸šè¾›å‹¤å·¥ä½œçš„äººä»¬è‡´æ•¬ï¼");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 5 && dd == 4) {//é’å¹´èŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("é’å¹´èŠ‚å¿«ä¹\né’æ˜¥ä¸æ˜¯å›å¿†é€å»,è€Œæ˜¯æŠŠæ¡ç°åœ¨ï¼");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 5 && dd == 20) {//520
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ä»Šå¹´æ˜¯520æƒ…äººèŠ‚\nå¿«å’Œä½ å–œæ¬¢çš„äººä¸€èµ·è¿‡å§ï¼ğŸ’‘");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 7 && dd == 1) {//å»ºå…šèŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ç¥ä¸­å›½å…±äº§å…š" + (y - 1921).toString() + "å²ç”Ÿæ—¥å¿«ä¹ï¼");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 9 && dd == 10) {//æ•™å¸ˆèŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("å„ä½è€å¸ˆä»¬æ•™å¸ˆèŠ‚å¿«ä¹ï¼ğŸ‘©â€ğŸ«");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 12 && dd == 25) {//åœ£è¯èŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("åœ£è¯èŠ‚å¿«ä¹ï¼ğŸ„");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 8 && dd == 11) {//ç«™é•¿ç”Ÿæ—¥
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ç¥ç«™é•¿" + (y - 1998).toString() + "å²ç”Ÿæ—¥å¿«ä¹ï¼ğŸ¥");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if (m == 6 && dd == 30) {//å°çŒ«å’ªç”Ÿæ—¥
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ç¥å°çŒ«å’ª" + (y - 1999).toString() + "å²ç”Ÿæ—¥å¿«ä¹ï¼ğŸ±");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}

//ä¼ ç»ŸèŠ‚æ—¥éƒ¨åˆ†

if ((y == 2023 && m == 4 && dd == 5) || (y == 2024 && m == 4 && dd == 4) || (y == 2025 && m == 4 && dd == 4)) {//æ¸…æ˜èŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("æ¸…æ˜æ—¶èŠ‚é›¨çº·çº·,ä¸€æŸé²œèŠ±ç¥­æ•…äººğŸ’");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if ((y == 2023 && m == 12 && dd == 22) || (y == 2024 && m == 12 && dd == 21) || (y == 2025 && m == 12 && dd == 21)) {//å†¬è‡³
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("å†¬è‡³å¿«ä¹\nå¿«åƒä¸Šä¸€ç¢—çƒ­çƒ­çš„æ±¤åœ†å’Œé¥ºå­å§ğŸ§†");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}

var lunar = calendarFormatter.solar2lunar();

//å†œå†é‡‡ç”¨æ±‰å­—è®¡ç®—ï¼Œé˜²æ­¢å‡ºç°é—°æœˆå¯¼è‡´é—®é¢˜

if ((lunar["IMonthCn"] == "æ­£æœˆ" && lunar["IDayCn"] == "åˆå…­") || (lunar["IMonthCn"] == "æ­£æœˆ" && lunar["IDayCn"] == "åˆäº”") || (lunar["IMonthCn"] == "æ­£æœˆ" && lunar["IDayCn"] == "åˆå››") || (lunar["IMonthCn"] == "æ­£æœˆ" && lunar["IDayCn"] == "åˆä¸‰") || (lunar["IMonthCn"] == "æ­£æœˆ" && lunar["IDayCn"] == "åˆäºŒ") || (lunar["IMonthCn"] == "æ­£æœˆ" && lunar["IDayCn"] == "åˆä¸€") || (lunar["IMonthCn"] == "è…Šæœˆ" && lunar["IDayCn"] == "ä¸‰å") || (lunar["IMonthCn"] == "è…Šæœˆ" && lunar["IDayCn"] == "å»¿ä¹")) {
  //æ˜¥èŠ‚ï¼Œæœ¬æ¥åªæœ‰å¤§å¹´ä¸‰ååˆ°åˆå…­ï¼Œä½†æ˜¯æœ‰æ—¶å€™é™¤å¤•æ˜¯å¤§å¹´äºŒåä¹ï¼Œæ‰€ä»¥ä¹ŸåŠ ä¸Šäº†
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire(y.toString() + "å¹´æ–°å¹´å¿«ä¹\nğŸŠç¥ä½ å¿ƒæƒ³äº‹æˆï¼Œè¯¸äº‹é¡ºåˆ©ğŸŠ");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if ((lunar["IMonthCn"] == "æ­£æœˆ" && lunar["IDayCn"] == "åäº”")) {
  //å…ƒå®µèŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("å…ƒå®µèŠ‚å¿«ä¹\né€ä½ ä¸€ä¸ªå¤§å¤§çš„ç¯ç¬¼ğŸ§…");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if ((lunar["IMonthCn"] == "äº”æœˆ" && lunar["IDayCn"] == "åˆäº”")) {
  //ç«¯åˆèŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ç«¯åˆèŠ‚å¿«ä¹\nè¯·ä½ åƒä¸€æ¡ç²½å­ğŸ™");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if ((lunar["IMonthCn"] == "ä¸ƒæœˆ" && lunar["IDayCn"] == "åˆä¸ƒ")) {
  //ä¸ƒå¤•èŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ä¸ƒå¤•èŠ‚å¿«ä¹\né»„æ˜å,æŸ³æ¢¢å¤´,ç‰›éƒç»‡å¥³æ¥ç¢°å¤´");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if ((lunar["IMonthCn"] == "å…«æœˆ" && lunar["IDayCn"] == "åäº”")) {
  //ä¸­ç§‹èŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("ä¸­ç§‹èŠ‚å¿«ä¹\nè¯·ä½ åƒä¸€å—æœˆé¥¼ğŸª");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}
if ((lunar["IMonthCn"] == "ä¹æœˆ" && lunar["IDayCn"] == "åˆä¹")) {
  //é‡é˜³èŠ‚
  if (sessionStorage.getItem("isPopupWindow") != "1") {
    Swal.fire("é‡é˜³èŠ‚å¿«ä¹\nç‹¬åœ¨å¼‚ä¹¡ä¸ºå¼‚å®¢ï¼Œæ¯é€¢ä½³èŠ‚å€æ€äº²");
    sessionStorage.setItem("isPopupWindow", "1");
  }
}

// åˆ‡æ¢ä¸»é¢˜æé†’
// if (y == 2022 && m == 12 && (dd >= 18 && dd <= 20)) {
//     if (sessionStorage.getItem("isPopupWindow") != "1") {
//         Swal.fire("ç½‘ç«™æ¢æˆå†¬æ—¥é™å®šä¸»é¢˜å•¦â›„");
//         sessionStorage.setItem("isPopupWindow", "1");
//     }
// }


/* èŠ‚æ—¥å¼¹çª— end */

/* å¤œé—´æ¨¡å¼åˆ‡æ¢åŠ¨ç”» start */
function switchNightMode() {
  document.querySelector('body').insertAdjacentHTML('beforeend', '<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"><div id="sun"></div><div id="moon"></div></div></div>'),
    setTimeout(function () {
      document.querySelector('body').classList.contains('DarkMode') ? (document.querySelector('body').classList.remove('DarkMode'), localStorage.setItem('isDark', '0'), document.getElementById('modeicon').setAttribute('xlink:href', '#icon-moon')) : (document.querySelector('body').classList.add('DarkMode'), localStorage.setItem('isDark', '1'), document.getElementById('modeicon').setAttribute('xlink:href', '#icon-sun')),
        setTimeout(function () {
          document.getElementsByClassName('Cuteen_DarkSky')[0].style.transition = 'opacity 3s';
          document.getElementsByClassName('Cuteen_DarkSky')[0].style.opacity = '0';
          setTimeout(function () {
            document.getElementsByClassName('Cuteen_DarkSky')[0].remove();
          }, 1e3);
        }, 2e3)
    })
  const nowMode = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'
  if (nowMode === 'light') {
    // å…ˆè®¾ç½®å¤ªé˜³æœˆäº®é€æ˜åº¦
    document.getElementById("sun").style.opacity = "1";
    document.getElementById("moon").style.opacity = "0";
    setTimeout(function () {
      document.getElementById("sun").style.opacity = "0";
      document.getElementById("moon").style.opacity = "1";
    }, 1000);

    activateDarkMode()
    saveToLocal.set('theme', 'dark', 2)
    // GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)
    document.getElementById('modeicon').setAttribute('xlink:href', '#icon-sun')
    // å»¶æ—¶å¼¹çª—æé†’
    setTimeout(() => {
      new Vue({
        data: function () {
          this.$notify({
            title: "å…³ç¯å•¦ğŸŒ™",
            message: "å½“å‰å·²æˆåŠŸåˆ‡æ¢è‡³å¤œé—´æ¨¡å¼ï¼",
            position: 'top-left',
            offset: 50,
            showClose: true,
            type: "success",
            duration: 5000
          });
        }
      })
    }, 2000)
  } else {
    // å…ˆè®¾ç½®å¤ªé˜³æœˆäº®é€æ˜åº¦
    document.getElementById("sun").style.opacity = "0";
    document.getElementById("moon").style.opacity = "1";
    setTimeout(function () {
      document.getElementById("sun").style.opacity = "1";
      document.getElementById("moon").style.opacity = "0";
    }, 1000);

    activateLightMode()
    saveToLocal.set('theme', 'light', 2)
    document.querySelector('body').classList.add('DarkMode'), document.getElementById('modeicon').setAttribute('xlink:href', '#icon-moon')
    setTimeout(() => {
      new Vue({
        data: function () {
          this.$notify({
            title: "å¼€ç¯å•¦ğŸŒ",
            message: "å½“å‰å·²æˆåŠŸåˆ‡æ¢è‡³ç™½å¤©æ¨¡å¼ï¼",
            position: 'top-left',
            offset: 50,
            showClose: true,
            type: "success",
            duration: 5000
          });
        }
      })
    }, 2000)
  }
  // handle some cases
  typeof utterancesTheme === 'function' && utterancesTheme()
  typeof FB === 'object' && window.loadFBComment()
  window.DISQUS && document.getElementById('disqus_thread').children.length && setTimeout(() => window.disqusReset(), 200)
}

/* å¤œé—´æ¨¡å¼åˆ‡æ¢åŠ¨ç”» end */




document.addEventListener('pjax:complete', tonav);
document.addEventListener('DOMContentLoaded', tonav);
//å“åº”pjax
function tonav() {
    document.getElementById("name-container").setAttribute("style", "display:none");
    var position = $(window).scrollTop();
    $(window).scroll(function () {
        var scroll = $(window).scrollTop();
        if (scroll > position) {
            document.getElementById("name-container").setAttribute("style", "");
            document.getElementsByClassName("menus_items")[1].setAttribute("style", "display:none!important");
        } else {
            document.getElementsByClassName("menus_items")[1].setAttribute("style", "");
            document.getElementById("name-container").setAttribute("style", "display:none");
        }
        position = scroll;
    });
    //ä¿®å¤æ²¡æœ‰å¼„å³é”®èœå•çš„ç«¥é‹æ— æ³•å›é¡¶éƒ¨çš„é—®é¢˜
    document.getElementById("page-name").innerText = document.title.split(" | yaccodeğŸ¢")[0];
}

function scrollToTop() {
    document.getElementsByClassName("menus_items")[1].setAttribute("style", "");
    document.getElementById("name-container").setAttribute("style", "display:none");
    btf.scrollToDest(0, 500);
}

pl.addTo($.parseJSON({songId: 2312165875, songTitle: "100é¦–åè¯­æ°‘è°£ï¼Œå› ä¸ºæ‡‚å¾—æ‰æœ‰å…±é¸£", artist: "æƒ…æ€å¤©é¹…", urlId: 1773698125, album: "1701", lyricId: 1773698125, songImg: 1773698125, source: 'netease'}),false)